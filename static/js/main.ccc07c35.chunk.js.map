{"version":3,"sources":["components/ImageInfo/ImageInfo.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/Searchbar/Searchbar.module.css","components/ImageErrorView/ImageErrorView.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","services/image-api.js","images/error-image.jpg","components/ImageErrorView/ImageErrorView.js","components/Modal/Modal.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/ImageInfo/ImageInfo.js","components/App/App.js","index.js","components/Searchbar/SearchForm/SearchForm.module.css"],"names":["module","exports","SearchForm","onSubmit","value","onChange","className","s","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","Searchbar","state","imageName","handleNameChange","e","setState","currentTarget","toLowerCase","handleSubmit","preventDefault","trim","props","toast","error","this","Component","api","fetchImage","image","page","fetch","then","response","json","ImageErrorView","message","role","errorImage","src","width","alt","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","bigImage","createPortal","Overlay","onClick","ImageGalleryItem","showModal","toggleModal","smallImage","ImageGalleryItemImage","ImageGallery","images","map","el","webformatURL","largeImageURL","tags","id","Button","loadMoreImages","Status","ImageInfo","status","prevProps","prevState","prevName","nextName","prevPage","nextPage","apiImages","comeImages","total","hits","scrollTo","top","documentElement","scrollHeight","behavior","Promise","reject","Error","catch","Loader","color","height","length","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ccc07c35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"ImageInfo_message__1sdMq\",\"Loader\":\"ImageInfo_Loader__31Q_t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2_bzN\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2VPfR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1lVTk\",\"Modal\":\"Modal_Modal__2yrXR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__hV-nI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2fPgl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorImage\":\"ImageErrorView_errorImage__1JLtF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1SxoJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__NmB_X\"};","import s from './SearchForm.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function SearchForm({ onSubmit, value, onChange }) {\n  return (\n    <form className={s.SearchForm} onSubmit={onSubmit}>\n      <button type=\"submit\" className={s.SearchFormButton}>\n        <span className={s.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        className={s.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        value={value}\n        placeholder=\"Search images and photos\"\n        onChange={onChange}\n      />\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport SearchForm from './SearchForm';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    imageName: '',\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleNameChange = e => {\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.imageName.trim() === '') {\n      toast.error('Please enter the name of the picture');\n      return;\n    }\n\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          value={this.state.imageName}\n          onChange={this.handleNameChange}\n        />\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","const API_KEY = '22144472-c4d53a495baf7d3490978ff95';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction fetchImage(image, page) {\n  return fetch(\n    `${BASE_URL}?q=${image}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    return response.json();\n  });\n}\n\nconst api = {\n  fetchImage,\n};\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/error-image.66517862.jpg\";","import errorImage from '../../images/error-image.jpg';\nimport s from './ImageErrorView.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function ImageErrorView({ message }) {\n  return (\n    <div role=\"alert\" className={s.errorImage}>\n      <img src={errorImage} width=\"240\" alt=\"errorImage\" />\n      <p>{message}</p>\n    </div>\n  );\n}\n\nImageErrorView.propTypes = {\n  message: PropTypes.string,\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    bigImage: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { alt, bigImage } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={bigImage} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\nimport Modal from '../../Modal';\nimport { Component } from 'react';\n\nclass ImageGalleryItem extends Component {\n  state = {\n    showModal: false,\n  };\n\n  static propTypes = {\n    smallImage: PropTypes.string,\n    bigImage: PropTypes.string,\n    alt: PropTypes.string,\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const { smallImage, alt, bigImage } = this.props;\n    const { showModal } = this.state;\n\n    return (\n      <li className={s.ImageGalleryItem}>\n        <img\n          onClick={this.toggleModal}\n          src={smallImage}\n          alt={alt}\n          className={s.ImageGalleryItemImage}\n        />\n\n        {showModal && (\n          <Modal bigImage={bigImage} alt={alt} onClose={this.toggleModal} />\n        )}\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import s from './ImageGallery.module.css';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGallery({ images }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(el => (\n        <ImageGalleryItem\n          key={el.id}\n          smallImage={el.webformatURL}\n          bigImage={el.largeImageURL}\n          alt={el.tags}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape),\n};\n","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ loadMoreImages }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={loadMoreImages}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  loadMoreImages: PropTypes.func,\n};\n","import { Component } from 'react';\nimport apiImages from '../../services/image-api';\nimport s from './ImageInfo.module.css';\nimport PropTypes from 'prop-types';\nimport ImageErrorView from '../ImageErrorView';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport Loader from 'react-loader-spinner';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass ImageInfo extends Component {\n  state = {\n    images: [],\n    page: 1,\n    error: null,\n    status: Status.IDLE,\n  };\n\n  static propTypes = {\n    imageName: PropTypes.string.isRequired,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.imageName;\n    const nextName = this.props.imageName;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevName !== nextName || prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING });\n\n      if (prevName !== nextName) {\n        this.setState({ images: [], page: 1 });\n      }\n\n      apiImages\n        .fetchImage(nextName, this.state.page)\n        .then(comeImages => {\n          if (comeImages.total !== 0) {\n            this.setState(({ images }) => ({\n              images: [...images, ...comeImages.hits],\n              status: Status.RESOLVED,\n            }));\n\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n            return;\n          }\n\n          return Promise.reject(\n            new Error(`Нет такого изображения: ${nextName}`),\n          );\n        })\n        .catch(error =>\n          this.setState({\n            error,\n            status: Status.REJECTED,\n          }),\n        );\n    }\n  }\n\n  loadMoreImages = () => {\n    this.setState(({ page }) => ({\n      page: page + 1,\n    }));\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n\n    if (status === 'idle') {\n      return <div className={s.message}>please enter image title</div>;\n    }\n\n    if (status === 'pending') {\n      return (\n        <>\n          {images && <ImageGallery images={images} />}\n          <Loader\n            className={s.Loader}\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n          />\n        </>\n      );\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ImageGallery images={images} />\n          {images.length >= 12 && (\n            <Button loadMoreImages={this.loadMoreImages} />\n          )}\n        </>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <ImageErrorView message={error.message} />;\n    }\n  }\n}\n\nexport default ImageInfo;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './App.module.css';\nimport Searchbar from '../Searchbar';\nimport ImageInfo from '../ImageInfo';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n  };\n\n  handleFormSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    const { imageName } = this.state;\n\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageInfo imageName={imageName} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__3zm0R\",\"SearchFormButton\":\"SearchForm_SearchFormButton__2Cwce\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__92ujl\",\"SearchFormInput\":\"SearchForm_SearchFormInput__4SxNC\"};"],"sourceRoot":""}