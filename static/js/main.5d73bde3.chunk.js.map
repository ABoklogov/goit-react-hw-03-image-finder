{"version":3,"sources":["components/ImageInfo/ImageInfo.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/Searchbar/Searchbar.module.css","components/ImageErrorView/ImageErrorView.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","services/image-api.js","images/error-image.jpg","components/ImageErrorView/ImageErrorView.js","components/Modal/Modal.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/ImageInfo/ImageInfo.js","components/App/App.js","index.js","components/Searchbar/SearchForm/SearchForm.module.css"],"names":["module","exports","SearchForm","onSubmit","value","onChange","className","s","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","Searchbar","state","imageName","handleNameChange","e","setState","currentTarget","toLowerCase","handleSubmit","preventDefault","props","trim","toast","error","this","Component","apiOptions","fetchImage","name","page","a","fetch","response","json","images","api","propTypes","PropTypes","string","isRequired","number","ImageErrorView","message","role","errorImage","src","width","height","alt","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","bigImage","createPortal","Overlay","onClick","ImageGalleryItem","showModal","toggleModal","smallImage","ImageGalleryItemImage","ImageGallery","map","el","webformatURL","largeImageURL","tags","id","Button","loadMoreImages","Status","ImageInfo","status","loaderImages","apiImages","then","comeImages","total","hits","scrollTo","top","documentElement","scrollHeight","behavior","Promise","reject","Error","catch","prevProps","prevState","prevName","nextName","Loader","color","length","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5d73bde3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"ImageInfo_message__1sdMq\",\"Loader\":\"ImageInfo_Loader__31Q_t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2_bzN\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2VPfR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1lVTk\",\"Modal\":\"Modal_Modal__2yrXR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__hV-nI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2fPgl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorImage\":\"ImageErrorView_errorImage__1JLtF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1SxoJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__NmB_X\"};","import PropTypes from 'prop-types';\nimport s from './SearchForm.module.css';\n\nexport default function SearchForm({ onSubmit, value, onChange }) {\n  return (\n    <form className={s.SearchForm} onSubmit={onSubmit}>\n      <button type=\"submit\" className={s.SearchFormButton}>\n        <span className={s.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        className={s.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        value={value}\n        placeholder=\"Search images and photos\"\n        onChange={onChange}\n      />\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\nimport SearchForm from './SearchForm';\n\nclass Searchbar extends Component {\n  state = {\n    imageName: '',\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleNameChange = e => {\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { imageName } = this.state;\n    const { onSubmit } = this.props;\n\n    if (imageName.trim() === '') {\n      toast.error('Please enter the name of the picture');\n      return;\n    }\n\n    onSubmit(imageName);\n    this.setState({ imageName: '' });\n  };\n\n  render() {\n    const { imageName } = this.state;\n\n    return (\n      <header className={s.Searchbar}>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          value={imageName}\n          onChange={this.handleNameChange}\n        />\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\n\nconst apiOptions = {\n  API_KEY: '22144472-c4d53a495baf7d3490978ff95',\n  BASE_URL: 'https://pixabay.com/api/',\n  PER_PAGE: 12,\n};\n\nasync function fetchImage(name, page) {\n  const response = await fetch(\n    `${apiOptions.BASE_URL}?q=${name}&page=${page}&key=${apiOptions.API_KEY}&image_type=photo&orientation=horizontal&per_page=${apiOptions.PER_PAGE}`,\n  );\n  const images = await response.json();\n  return images;\n}\n\nconst api = {\n  fetchImage,\n};\n\nfetchImage.propTypes = {\n  name: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/error-image.66517862.jpg\";","import errorImage from '../../images/error-image.jpg';\nimport s from './ImageErrorView.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function ImageErrorView({ message }) {\n  return (\n    <div role=\"alert\" className={s.errorImage}>\n      <img src={errorImage} width=\"240\" height=\"240\" alt=\"errorImage\" />\n      <p>{message}</p>\n    </div>\n  );\n}\n\nImageErrorView.propTypes = {\n  message: PropTypes.string,\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    bigImage: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { alt, bigImage } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={bigImage} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\nimport Modal from '../../Modal';\n\nclass ImageGalleryItem extends Component {\n  state = {\n    showModal: false,\n  };\n\n  static propTypes = {\n    smallImage: PropTypes.string,\n    bigImage: PropTypes.string,\n    alt: PropTypes.string,\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const { smallImage, alt, bigImage } = this.props;\n    const { showModal } = this.state;\n\n    return (\n      <li className={s.ImageGalleryItem}>\n        <img\n          onClick={this.toggleModal}\n          src={smallImage}\n          alt={alt}\n          className={s.ImageGalleryItemImage}\n        />\n\n        {showModal && (\n          <Modal bigImage={bigImage} alt={alt} onClose={this.toggleModal} />\n        )}\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import s from './ImageGallery.module.css';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGallery({ images }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(el => (\n        <ImageGalleryItem\n          key={el.id}\n          smallImage={el.webformatURL}\n          bigImage={el.largeImageURL}\n          alt={el.tags}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape),\n};\n","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ loadMoreImages }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={loadMoreImages}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  loadMoreImages: PropTypes.func,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageInfo.module.css';\nimport apiImages from '../../services/image-api';\nimport ImageErrorView from '../ImageErrorView';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport Loader from 'react-loader-spinner';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass ImageInfo extends Component {\n  state = {\n    images: [],\n    page: 1,\n    error: null,\n    status: Status.IDLE,\n  };\n\n  static propTypes = {\n    imageName: PropTypes.string.isRequired,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.imageName;\n    const nextName = this.props.imageName;\n\n    if (prevName !== nextName) {\n      this.setState({\n        page: 1,\n        images: [],\n        status: Status.PENDING,\n      });\n\n      this.loaderImages(nextName);\n    }\n  }\n\n  loaderImages = (name, page = 1) => {\n    this.setState({ status: Status.PENDING });\n\n    apiImages\n      .fetchImage(name, page)\n      .then(comeImages => {\n        if (comeImages.total !== 0) {\n          this.setState(({ images, page }) => ({\n            images: [...images, ...comeImages.hits],\n            page: page + 1,\n            status: Status.RESOLVED,\n          }));\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n          return;\n        }\n\n        return Promise.reject(new Error(`Нет такого изображения: ${name}`));\n      })\n      .catch(error =>\n        this.setState({\n          error,\n          status: Status.REJECTED,\n        }),\n      );\n  };\n\n  render() {\n    const { images, error, status, page } = this.state;\n    const { imageName } = this.props;\n\n    if (status === 'idle') {\n      return <div className={s.message}>please enter image title</div>;\n    }\n\n    if (status === 'pending') {\n      return (\n        <>\n          {images && <ImageGallery images={images} />}\n          <Loader\n            className={s.Loader}\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n          />\n        </>\n      );\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ImageGallery images={images} />\n          {images.length >= 12 && (\n            <Button loadMoreImages={() => this.loaderImages(imageName, page)} />\n          )}\n        </>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <ImageErrorView message={error.message} />;\n    }\n  }\n}\n\nexport default ImageInfo;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './App.module.css';\nimport Searchbar from '../Searchbar';\nimport ImageInfo from '../ImageInfo';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n  };\n\n  handleFormSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    const { imageName } = this.state;\n\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageInfo imageName={imageName} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__3zm0R\",\"SearchFormButton\":\"SearchForm_SearchFormButton__2Cwce\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__92ujl\",\"SearchFormInput\":\"SearchForm_SearchFormInput__4SxNC\"};"],"sourceRoot":""}